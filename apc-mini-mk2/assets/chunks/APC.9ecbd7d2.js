var Vo=Object.defineProperty;var qo=(t,n,i)=>n in t?Vo(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i;var Dr=(t,n,i)=>(qo(t,typeof n!="symbol"?n+"":n,i),i);import{_ as Ho,o as gr,c as dr,a as pr,F as we,E as _e,G as Yo,H as sa,I as $e,t as ua}from"./framework.2d9ebef7.js";var jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ha={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(t,n){(function(i,c){t.exports=c()})(jo,function(){for(var i=function(r,e,a){return e===void 0&&(e=0),a===void 0&&(a=1),r<e?e:r>a?a:r},c=i,v=function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var e=0;e<=3;e++)e<3?((r[e]<0||r[e]>255)&&(r._clipped=!0),r[e]=c(r[e],0,255)):e===3&&(r[e]=c(r[e],0,1));return r},m={},y=0,$=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];y<$.length;y+=1){var M=$[y];m["[object "+M+"]"]=M.toLowerCase()}var E=function(r){return m[Object.prototype.toString.call(r)]||"object"},H=E,J=function(r,e){return e===void 0&&(e=null),r.length>=3?Array.prototype.slice.call(r):H(r[0])=="object"&&e?e.split("").filter(function(a){return r[0][a]!==void 0}).map(function(a){return r[0][a]}):r[0]},U=E,qr=function(r){if(r.length<2)return null;var e=r.length-1;return U(r[e])=="string"?r[e].toLowerCase():null},ur=Math.PI,w={clip_rgb:v,limit:i,type:E,unpack:J,last:qr,PI:ur,TWOPI:ur*2,PITHIRD:ur/3,DEG2RAD:ur/180,RAD2DEG:180/ur},Y={format:{},autodetect:[]},ga=w.last,da=w.clip_rgb,Ee=w.type,fr=Y,Se=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var l=this;if(Ee(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var s=ga(e),u=!1;if(!s){u=!0,fr.sorted||(fr.autodetect=fr.autodetect.sort(function(d,_){return _.p-d.p}),fr.sorted=!0);for(var o=0,f=fr.autodetect;o<f.length;o+=1){var h=f[o];if(s=h.test.apply(h,e),s)break}}if(fr.format[s]){var g=fr.format[s].apply(null,u?e:e.slice(0,-1));l._rgb=da(g)}else throw new Error("unknown format: "+e);l._rgb.length===3&&l._rgb.push(1)};Se.prototype.toString=function(){return Ee(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var S=Se,Lr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Lr.Color,[null].concat(r)))};Lr.Color=S,Lr.version="2.4.2";var V=Lr,pa=w.unpack,Ae=Math.max,ba=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=pa(r,"rgb"),l=a[0],s=a[1],u=a[2];l=l/255,s=s/255,u=u/255;var o=1-Ae(l,Ae(s,u)),f=o<1?1/(1-o):0,h=(1-l-o)*f,g=(1-s-o)*f,d=(1-u-o)*f;return[h,g,d,o]},ma=ba,ya=w.unpack,wa=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=ya(r,"cmyk");var a=r[0],l=r[1],s=r[2],u=r[3],o=r.length>4?r[4]:1;return u===1?[0,0,0,o]:[a>=1?0:255*(1-a)*(1-u),l>=1?0:255*(1-l)*(1-u),s>=1?0:255*(1-s)*(1-u),o]},_a=wa,$a=V,De=S,Le=Y,ka=w.unpack,Fa=w.type,xa=ma;De.prototype.cmyk=function(){return xa(this._rgb)},$a.cmyk=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(De,[null].concat(r,["cmyk"])))},Le.format.cmyk=_a,Le.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=ka(r,"cmyk"),Fa(r)==="array"&&r.length===4)return"cmyk"}});var Ca=w.unpack,Ma=w.last,Hr=function(r){return Math.round(r*100)/100},Ea=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Ca(r,"hsla"),l=Ma(r)||"lsa";return a[0]=Hr(a[0]||0),a[1]=Hr(a[1]*100)+"%",a[2]=Hr(a[2]*100)+"%",l==="hsla"||a.length>3&&a[3]<1?(a[3]=a.length>3?a[3]:1,l="hsla"):a.length=3,l+"("+a.join(",")+")"},Sa=Ea,Aa=w.unpack,Da=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Aa(r,"rgba");var a=r[0],l=r[1],s=r[2];a/=255,l/=255,s/=255;var u=Math.min(a,l,s),o=Math.max(a,l,s),f=(o+u)/2,h,g;return o===u?(h=0,g=Number.NaN):h=f<.5?(o-u)/(o+u):(o-u)/(2-o-u),a==o?g=(l-s)/(o-u):l==o?g=2+(s-a)/(o-u):s==o&&(g=4+(a-l)/(o-u)),g*=60,g<0&&(g+=360),r.length>3&&r[3]!==void 0?[g,h,f,r[3]]:[g,h,f]},Ne=Da,La=w.unpack,Na=w.last,za=Sa,Ia=Ne,Yr=Math.round,Pa=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=La(r,"rgba"),l=Na(r)||"rgb";return l.substr(0,3)=="hsl"?za(Ia(a),l):(a[0]=Yr(a[0]),a[1]=Yr(a[1]),a[2]=Yr(a[2]),(l==="rgba"||a.length>3&&a[3]<1)&&(a[3]=a.length>3?a[3]:1,l="rgba"),l+"("+a.slice(0,l==="rgb"?3:4).join(",")+")")},Ta=Pa,Ba=w.unpack,jr=Math.round,Oa=function(){for(var r,e=[],a=arguments.length;a--;)e[a]=arguments[a];e=Ba(e,"hsl");var l=e[0],s=e[1],u=e[2],o,f,h;if(s===0)o=f=h=u*255;else{var g=[0,0,0],d=[0,0,0],_=u<.5?u*(1+s):u+s-u*s,p=2*u-_,F=l/360;g[0]=F+1/3,g[1]=F,g[2]=F-1/3;for(var k=0;k<3;k++)g[k]<0&&(g[k]+=1),g[k]>1&&(g[k]-=1),6*g[k]<1?d[k]=p+(_-p)*6*g[k]:2*g[k]<1?d[k]=_:3*g[k]<2?d[k]=p+(_-p)*(2/3-g[k])*6:d[k]=p;r=[jr(d[0]*255),jr(d[1]*255),jr(d[2]*255)],o=r[0],f=r[1],h=r[2]}return e.length>3?[o,f,h,e[3]]:[o,f,h,1]},ze=Oa,Ie=ze,Pe=Y,Te=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Be=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Oe=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Re=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Ge=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Ve=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,qe=Math.round,He=function(r){r=r.toLowerCase().trim();var e;if(Pe.format.named)try{return Pe.format.named(r)}catch{}if(e=r.match(Te)){for(var a=e.slice(1,4),l=0;l<3;l++)a[l]=+a[l];return a[3]=1,a}if(e=r.match(Be)){for(var s=e.slice(1,5),u=0;u<4;u++)s[u]=+s[u];return s}if(e=r.match(Oe)){for(var o=e.slice(1,4),f=0;f<3;f++)o[f]=qe(o[f]*2.55);return o[3]=1,o}if(e=r.match(Re)){for(var h=e.slice(1,5),g=0;g<3;g++)h[g]=qe(h[g]*2.55);return h[3]=+h[3],h}if(e=r.match(Ge)){var d=e.slice(1,4);d[1]*=.01,d[2]*=.01;var _=Ie(d);return _[3]=1,_}if(e=r.match(Ve)){var p=e.slice(1,4);p[1]*=.01,p[2]*=.01;var F=Ie(p);return F[3]=+e[4],F}};He.test=function(r){return Te.test(r)||Be.test(r)||Oe.test(r)||Re.test(r)||Ge.test(r)||Ve.test(r)};var Ra=He,Ga=V,Ye=S,je=Y,Va=w.type,qa=Ta,We=Ra;Ye.prototype.css=function(r){return qa(this._rgb,r)},Ga.css=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ye,[null].concat(r,["css"])))},je.format.css=We,je.autodetect.push({p:5,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&Va(r)==="string"&&We.test(r))return"css"}});var Ue=S,Ha=V,Ya=Y,ja=w.unpack;Ya.format.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=ja(r,"rgba");return a[0]*=255,a[1]*=255,a[2]*=255,a},Ha.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ue,[null].concat(r,["gl"])))},Ue.prototype.gl=function(){var r=this._rgb;return[r[0]/255,r[1]/255,r[2]/255,r[3]]};var Wa=w.unpack,Ua=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Wa(r,"rgb"),l=a[0],s=a[1],u=a[2],o=Math.min(l,s,u),f=Math.max(l,s,u),h=f-o,g=h*100/255,d=o/(255-h)*100,_;return h===0?_=Number.NaN:(l===f&&(_=(s-u)/h),s===f&&(_=2+(u-l)/h),u===f&&(_=4+(l-s)/h),_*=60,_<0&&(_+=360)),[_,g,d]},Xa=Ua,Za=w.unpack,Ja=Math.floor,Qa=function(){for(var r,e,a,l,s,u,o=[],f=arguments.length;f--;)o[f]=arguments[f];o=Za(o,"hcg");var h=o[0],g=o[1],d=o[2],_,p,F;d=d*255;var k=g*255;if(g===0)_=p=F=d;else{h===360&&(h=0),h>360&&(h-=360),h<0&&(h+=360),h/=60;var A=Ja(h),N=h-A,I=d*(1-g),T=I+k*(1-N),X=I+k*N,W=I+k;switch(A){case 0:r=[W,X,I],_=r[0],p=r[1],F=r[2];break;case 1:e=[T,W,I],_=e[0],p=e[1],F=e[2];break;case 2:a=[I,W,X],_=a[0],p=a[1],F=a[2];break;case 3:l=[I,T,W],_=l[0],p=l[1],F=l[2];break;case 4:s=[X,I,W],_=s[0],p=s[1],F=s[2];break;case 5:u=[W,I,T],_=u[0],p=u[1],F=u[2];break}}return[_,p,F,o.length>3?o[3]:1]},Ka=Qa,rn=w.unpack,en=w.type,tn=V,Xe=S,Ze=Y,an=Xa;Xe.prototype.hcg=function(){return an(this._rgb)},tn.hcg=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Xe,[null].concat(r,["hcg"])))},Ze.format.hcg=Ka,Ze.autodetect.push({p:1,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=rn(r,"hcg"),en(r)==="array"&&r.length===3)return"hcg"}});var nn=w.unpack,ln=w.last,Nr=Math.round,on=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=nn(r,"rgba"),l=a[0],s=a[1],u=a[2],o=a[3],f=ln(r)||"auto";o===void 0&&(o=1),f==="auto"&&(f=o<1?"rgba":"rgb"),l=Nr(l),s=Nr(s),u=Nr(u);var h=l<<16|s<<8|u,g="000000"+h.toString(16);g=g.substr(g.length-6);var d="0"+Nr(o*255).toString(16);switch(d=d.substr(d.length-2),f.toLowerCase()){case"rgba":return"#"+g+d;case"argb":return"#"+d+g;default:return"#"+g}},Je=on,sn=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,un=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,fn=function(r){if(r.match(sn)){(r.length===4||r.length===7)&&(r=r.substr(1)),r.length===3&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var e=parseInt(r,16),a=e>>16,l=e>>8&255,s=e&255;return[a,l,s,1]}if(r.match(un)){(r.length===5||r.length===9)&&(r=r.substr(1)),r.length===4&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);var u=parseInt(r,16),o=u>>24&255,f=u>>16&255,h=u>>8&255,g=Math.round((u&255)/255*100)/100;return[o,f,h,g]}throw new Error("unknown hex color: "+r)},Qe=fn,cn=V,Ke=S,hn=w.type,rt=Y,vn=Je;Ke.prototype.hex=function(r){return vn(this._rgb,r)},cn.hex=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ke,[null].concat(r,["hex"])))},rt.format.hex=Qe,rt.autodetect.push({p:4,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&hn(r)==="string"&&[3,4,5,6,7,8,9].indexOf(r.length)>=0)return"hex"}});var gn=w.unpack,et=w.TWOPI,dn=Math.min,pn=Math.sqrt,bn=Math.acos,mn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=gn(r,"rgb"),l=a[0],s=a[1],u=a[2];l/=255,s/=255,u/=255;var o,f=dn(l,s,u),h=(l+s+u)/3,g=h>0?1-f/h:0;return g===0?o=NaN:(o=(l-s+(l-u))/2,o/=pn((l-s)*(l-s)+(l-u)*(s-u)),o=bn(o),u>s&&(o=et-o),o/=et),[o*360,g,h]},yn=mn,wn=w.unpack,Wr=w.limit,br=w.TWOPI,Ur=w.PITHIRD,mr=Math.cos,_n=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=wn(r,"hsi");var a=r[0],l=r[1],s=r[2],u,o,f;return isNaN(a)&&(a=0),isNaN(l)&&(l=0),a>360&&(a-=360),a<0&&(a+=360),a/=360,a<1/3?(f=(1-l)/3,u=(1+l*mr(br*a)/mr(Ur-br*a))/3,o=1-(f+u)):a<2/3?(a-=1/3,u=(1-l)/3,o=(1+l*mr(br*a)/mr(Ur-br*a))/3,f=1-(u+o)):(a-=2/3,o=(1-l)/3,f=(1+l*mr(br*a)/mr(Ur-br*a))/3,u=1-(o+f)),u=Wr(s*u*3),o=Wr(s*o*3),f=Wr(s*f*3),[u*255,o*255,f*255,r.length>3?r[3]:1]},$n=_n,kn=w.unpack,Fn=w.type,xn=V,tt=S,at=Y,Cn=yn;tt.prototype.hsi=function(){return Cn(this._rgb)},xn.hsi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(tt,[null].concat(r,["hsi"])))},at.format.hsi=$n,at.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=kn(r,"hsi"),Fn(r)==="array"&&r.length===3)return"hsi"}});var Mn=w.unpack,En=w.type,Sn=V,nt=S,it=Y,An=Ne;nt.prototype.hsl=function(){return An(this._rgb)},Sn.hsl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(nt,[null].concat(r,["hsl"])))},it.format.hsl=ze,it.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Mn(r,"hsl"),En(r)==="array"&&r.length===3)return"hsl"}});var Dn=w.unpack,Ln=Math.min,Nn=Math.max,zn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Dn(r,"rgb");var a=r[0],l=r[1],s=r[2],u=Ln(a,l,s),o=Nn(a,l,s),f=o-u,h,g,d;return d=o/255,o===0?(h=Number.NaN,g=0):(g=f/o,a===o&&(h=(l-s)/f),l===o&&(h=2+(s-a)/f),s===o&&(h=4+(a-l)/f),h*=60,h<0&&(h+=360)),[h,g,d]},In=zn,Pn=w.unpack,Tn=Math.floor,Bn=function(){for(var r,e,a,l,s,u,o=[],f=arguments.length;f--;)o[f]=arguments[f];o=Pn(o,"hsv");var h=o[0],g=o[1],d=o[2],_,p,F;if(d*=255,g===0)_=p=F=d;else{h===360&&(h=0),h>360&&(h-=360),h<0&&(h+=360),h/=60;var k=Tn(h),A=h-k,N=d*(1-g),I=d*(1-g*A),T=d*(1-g*(1-A));switch(k){case 0:r=[d,T,N],_=r[0],p=r[1],F=r[2];break;case 1:e=[I,d,N],_=e[0],p=e[1],F=e[2];break;case 2:a=[N,d,T],_=a[0],p=a[1],F=a[2];break;case 3:l=[N,I,d],_=l[0],p=l[1],F=l[2];break;case 4:s=[T,N,d],_=s[0],p=s[1],F=s[2];break;case 5:u=[d,N,I],_=u[0],p=u[1],F=u[2];break}}return[_,p,F,o.length>3?o[3]:1]},On=Bn,Rn=w.unpack,Gn=w.type,Vn=V,lt=S,ot=Y,qn=In;lt.prototype.hsv=function(){return qn(this._rgb)},Vn.hsv=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(lt,[null].concat(r,["hsv"])))},ot.format.hsv=On,ot.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Rn(r,"hsv"),Gn(r)==="array"&&r.length===3)return"hsv"}});var zr={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},yr=zr,Hn=w.unpack,st=Math.pow,Yn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Hn(r,"rgb"),l=a[0],s=a[1],u=a[2],o=jn(l,s,u),f=o[0],h=o[1],g=o[2],d=116*h-16;return[d<0?0:d,500*(f-h),200*(h-g)]},Xr=function(r){return(r/=255)<=.04045?r/12.92:st((r+.055)/1.055,2.4)},Zr=function(r){return r>yr.t3?st(r,1/3):r/yr.t2+yr.t0},jn=function(r,e,a){r=Xr(r),e=Xr(e),a=Xr(a);var l=Zr((.4124564*r+.3575761*e+.1804375*a)/yr.Xn),s=Zr((.2126729*r+.7151522*e+.072175*a)/yr.Yn),u=Zr((.0193339*r+.119192*e+.9503041*a)/yr.Zn);return[l,s,u]},ut=Yn,wr=zr,Wn=w.unpack,Un=Math.pow,Xn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Wn(r,"lab");var a=r[0],l=r[1],s=r[2],u,o,f,h,g,d;return o=(a+16)/116,u=isNaN(l)?o:o+l/500,f=isNaN(s)?o:o-s/200,o=wr.Yn*Qr(o),u=wr.Xn*Qr(u),f=wr.Zn*Qr(f),h=Jr(3.2404542*u-1.5371385*o-.4985314*f),g=Jr(-.969266*u+1.8760108*o+.041556*f),d=Jr(.0556434*u-.2040259*o+1.0572252*f),[h,g,d,r.length>3?r[3]:1]},Jr=function(r){return 255*(r<=.00304?12.92*r:1.055*Un(r,1/2.4)-.055)},Qr=function(r){return r>wr.t1?r*r*r:wr.t2*(r-wr.t0)},ft=Xn,Zn=w.unpack,Jn=w.type,Qn=V,ct=S,ht=Y,Kn=ut;ct.prototype.lab=function(){return Kn(this._rgb)},Qn.lab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ct,[null].concat(r,["lab"])))},ht.format.lab=ft,ht.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Zn(r,"lab"),Jn(r)==="array"&&r.length===3)return"lab"}});var ri=w.unpack,ei=w.RAD2DEG,ti=Math.sqrt,ai=Math.atan2,ni=Math.round,ii=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=ri(r,"lab"),l=a[0],s=a[1],u=a[2],o=ti(s*s+u*u),f=(ai(u,s)*ei+360)%360;return ni(o*1e4)===0&&(f=Number.NaN),[l,o,f]},vt=ii,li=w.unpack,oi=ut,si=vt,ui=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=li(r,"rgb"),l=a[0],s=a[1],u=a[2],o=oi(l,s,u),f=o[0],h=o[1],g=o[2];return si(f,h,g)},fi=ui,ci=w.unpack,hi=w.DEG2RAD,vi=Math.sin,gi=Math.cos,di=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=ci(r,"lch"),l=a[0],s=a[1],u=a[2];return isNaN(u)&&(u=0),u=u*hi,[l,gi(u)*s,vi(u)*s]},gt=di,pi=w.unpack,bi=gt,mi=ft,yi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=pi(r,"lch");var a=r[0],l=r[1],s=r[2],u=bi(a,l,s),o=u[0],f=u[1],h=u[2],g=mi(o,f,h),d=g[0],_=g[1],p=g[2];return[d,_,p,r.length>3?r[3]:1]},pt=yi,wi=w.unpack,_i=pt,$i=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=wi(r,"hcl").reverse();return _i.apply(void 0,a)},ki=$i,Fi=w.unpack,xi=w.type,bt=V,Ir=S,Kr=Y,mt=fi;Ir.prototype.lch=function(){return mt(this._rgb)},Ir.prototype.hcl=function(){return mt(this._rgb).reverse()},bt.lch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ir,[null].concat(r,["lch"])))},bt.hcl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ir,[null].concat(r,["hcl"])))},Kr.format.lch=pt,Kr.format.hcl=ki,["lch","hcl"].forEach(function(r){return Kr.autodetect.push({p:2,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=Fi(e,r),xi(e)==="array"&&e.length===3)return r}})});var Ci={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},yt=Ci,Mi=S,wt=Y,Ei=w.type,Er=yt,Si=Qe,Ai=Je;Mi.prototype.name=function(){for(var r=Ai(this._rgb,"rgb"),e=0,a=Object.keys(Er);e<a.length;e+=1){var l=a[e];if(Er[l]===r)return l.toLowerCase()}return r},wt.format.named=function(r){if(r=r.toLowerCase(),Er[r])return Si(Er[r]);throw new Error("unknown color name: "+r)},wt.autodetect.push({p:5,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&Ei(r)==="string"&&Er[r.toLowerCase()])return"named"}});var Di=w.unpack,Li=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Di(r,"rgb"),l=a[0],s=a[1],u=a[2];return(l<<16)+(s<<8)+u},Ni=Li,zi=w.type,Ii=function(r){if(zi(r)=="number"&&r>=0&&r<=16777215){var e=r>>16,a=r>>8&255,l=r&255;return[e,a,l,1]}throw new Error("unknown num color: "+r)},Pi=Ii,Ti=V,_t=S,$t=Y,Bi=w.type,Oi=Ni;_t.prototype.num=function(){return Oi(this._rgb)},Ti.num=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(_t,[null].concat(r,["num"])))},$t.format.num=Pi,$t.autodetect.push({p:5,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r.length===1&&Bi(r[0])==="number"&&r[0]>=0&&r[0]<=16777215)return"num"}});var Ri=V,re=S,kt=Y,Ft=w.unpack,xt=w.type,Ct=Math.round;re.prototype.rgb=function(r){return r===void 0&&(r=!0),r===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ct)},re.prototype.rgba=function(r){return r===void 0&&(r=!0),this._rgb.slice(0,4).map(function(e,a){return a<3?r===!1?e:Ct(e):e})},Ri.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(re,[null].concat(r,["rgb"])))},kt.format.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Ft(r,"rgba");return a[3]===void 0&&(a[3]=1),a},kt.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Ft(r,"rgba"),xt(r)==="array"&&(r.length===3||r.length===4&&xt(r[3])=="number"&&r[3]>=0&&r[3]<=1))return"rgb"}});var Pr=Math.log,Gi=function(r){var e=r/100,a,l,s;return e<66?(a=255,l=e<6?0:-155.25485562709179-.44596950469579133*(l=e-2)+104.49216199393888*Pr(l),s=e<20?0:-254.76935184120902+.8274096064007395*(s=e-10)+115.67994401066147*Pr(s)):(a=351.97690566805693+.114206453784165*(a=e-55)-40.25366309332127*Pr(a),l=325.4494125711974+.07943456536662342*(l=e-50)-28.0852963507957*Pr(l),s=255),[a,l,s,1]},Mt=Gi,Vi=Mt,qi=w.unpack,Hi=Math.round,Yi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];for(var a=qi(r,"rgb"),l=a[0],s=a[2],u=1e3,o=4e4,f=.4,h;o-u>f;){h=(o+u)*.5;var g=Vi(h);g[2]/g[0]>=s/l?o=h:u=h}return Hi(h)},ji=Yi,ee=V,Tr=S,te=Y,Wi=ji;Tr.prototype.temp=Tr.prototype.kelvin=Tr.prototype.temperature=function(){return Wi(this._rgb)},ee.temp=ee.kelvin=ee.temperature=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Tr,[null].concat(r,["temp"])))},te.format.temp=te.format.kelvin=te.format.temperature=Mt;var Ui=w.unpack,ae=Math.cbrt,Xi=Math.pow,Zi=Math.sign,Ji=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Ui(r,"rgb"),l=a[0],s=a[1],u=a[2],o=[ne(l/255),ne(s/255),ne(u/255)],f=o[0],h=o[1],g=o[2],d=ae(.4122214708*f+.5363325363*h+.0514459929*g),_=ae(.2119034982*f+.6806995451*h+.1073969566*g),p=ae(.0883024619*f+.2817188376*h+.6299787005*g);return[.2104542553*d+.793617785*_-.0040720468*p,1.9779984951*d-2.428592205*_+.4505937099*p,.0259040371*d+.7827717662*_-.808675766*p]},Et=Ji;function ne(r){var e=Math.abs(r);return e<.04045?r/12.92:(Zi(r)||1)*Xi((e+.055)/1.055,2.4)}var Qi=w.unpack,Br=Math.pow,Ki=Math.sign,rl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Qi(r,"lab");var a=r[0],l=r[1],s=r[2],u=Br(a+.3963377774*l+.2158037573*s,3),o=Br(a-.1055613458*l-.0638541728*s,3),f=Br(a-.0894841775*l-1.291485548*s,3);return[255*ie(4.0767416621*u-3.3077115913*o+.2309699292*f),255*ie(-1.2684380046*u+2.6097574011*o-.3413193965*f),255*ie(-.0041960863*u-.7034186147*o+1.707614701*f),r.length>3?r[3]:1]},St=rl;function ie(r){var e=Math.abs(r);return e>.0031308?(Ki(r)||1)*(1.055*Br(e,1/2.4)-.055):r*12.92}var el=w.unpack,tl=w.type,al=V,At=S,Dt=Y,nl=Et;At.prototype.oklab=function(){return nl(this._rgb)},al.oklab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(At,[null].concat(r,["oklab"])))},Dt.format.oklab=St,Dt.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=el(r,"oklab"),tl(r)==="array"&&r.length===3)return"oklab"}});var il=w.unpack,ll=Et,ol=vt,sl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=il(r,"rgb"),l=a[0],s=a[1],u=a[2],o=ll(l,s,u),f=o[0],h=o[1],g=o[2];return ol(f,h,g)},ul=sl,fl=w.unpack,cl=gt,hl=St,vl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=fl(r,"lch");var a=r[0],l=r[1],s=r[2],u=cl(a,l,s),o=u[0],f=u[1],h=u[2],g=hl(o,f,h),d=g[0],_=g[1],p=g[2];return[d,_,p,r.length>3?r[3]:1]},gl=vl,dl=w.unpack,pl=w.type,bl=V,Lt=S,Nt=Y,ml=ul;Lt.prototype.oklch=function(){return ml(this._rgb)},bl.oklch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Lt,[null].concat(r,["oklch"])))},Nt.format.oklch=gl,Nt.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=dl(r,"oklch"),pl(r)==="array"&&r.length===3)return"oklch"}});var zt=S,yl=w.type;zt.prototype.alpha=function(r,e){return e===void 0&&(e=!1),r!==void 0&&yl(r)==="number"?e?(this._rgb[3]=r,this):new zt([this._rgb[0],this._rgb[1],this._rgb[2],r],"rgb"):this._rgb[3]};var wl=S;wl.prototype.clipped=function(){return this._rgb._clipped||!1};var cr=S,_l=zr;cr.prototype.darken=function(r){r===void 0&&(r=1);var e=this,a=e.lab();return a[0]-=_l.Kn*r,new cr(a,"lab").alpha(e.alpha(),!0)},cr.prototype.brighten=function(r){return r===void 0&&(r=1),this.darken(-r)},cr.prototype.darker=cr.prototype.darken,cr.prototype.brighter=cr.prototype.brighten;var $l=S;$l.prototype.get=function(r){var e=r.split("."),a=e[0],l=e[1],s=this[a]();if(l){var u=a.indexOf(l)-(a.substr(0,2)==="ok"?2:0);if(u>-1)return s[u];throw new Error("unknown channel "+l+" in mode "+a)}else return s};var _r=S,kl=w.type,Fl=Math.pow,xl=1e-7,Cl=20;_r.prototype.luminance=function(r){if(r!==void 0&&kl(r)==="number"){if(r===0)return new _r([0,0,0,this._rgb[3]],"rgb");if(r===1)return new _r([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),a="rgb",l=Cl,s=function(o,f){var h=o.interpolate(f,.5,a),g=h.luminance();return Math.abs(r-g)<xl||!l--?h:g>r?s(o,h):s(h,f)},u=(e>r?s(new _r([0,0,0]),this):s(this,new _r([255,255,255]))).rgb();return new _r(u.concat([this._rgb[3]]))}return Ml.apply(void 0,this._rgb.slice(0,3))};var Ml=function(r,e,a){return r=le(r),e=le(e),a=le(a),.2126*r+.7152*e+.0722*a},le=function(r){return r/=255,r<=.03928?r/12.92:Fl((r+.055)/1.055,2.4)},K={},It=S,Pt=w.type,Or=K,Tt=function(r,e,a){a===void 0&&(a=.5);for(var l=[],s=arguments.length-3;s-- >0;)l[s]=arguments[s+3];var u=l[0]||"lrgb";if(!Or[u]&&!l.length&&(u=Object.keys(Or)[0]),!Or[u])throw new Error("interpolation mode "+u+" is not defined");return Pt(r)!=="object"&&(r=new It(r)),Pt(e)!=="object"&&(e=new It(e)),Or[u](r,e,a).alpha(r.alpha()+a*(e.alpha()-r.alpha()))},Bt=S,El=Tt;Bt.prototype.mix=Bt.prototype.interpolate=function(r,e){e===void 0&&(e=.5);for(var a=[],l=arguments.length-2;l-- >0;)a[l]=arguments[l+2];return El.apply(void 0,[this,r,e].concat(a))};var Ot=S;Ot.prototype.premultiply=function(r){r===void 0&&(r=!1);var e=this._rgb,a=e[3];return r?(this._rgb=[e[0]*a,e[1]*a,e[2]*a,a],this):new Ot([e[0]*a,e[1]*a,e[2]*a,a],"rgb")};var oe=S,Sl=zr;oe.prototype.saturate=function(r){r===void 0&&(r=1);var e=this,a=e.lch();return a[1]+=Sl.Kn*r,a[1]<0&&(a[1]=0),new oe(a,"lch").alpha(e.alpha(),!0)},oe.prototype.desaturate=function(r){return r===void 0&&(r=1),this.saturate(-r)};var Rt=S,Gt=w.type;Rt.prototype.set=function(r,e,a){a===void 0&&(a=!1);var l=r.split("."),s=l[0],u=l[1],o=this[s]();if(u){var f=s.indexOf(u)-(s.substr(0,2)==="ok"?2:0);if(f>-1){if(Gt(e)=="string")switch(e.charAt(0)){case"+":o[f]+=+e;break;case"-":o[f]+=+e;break;case"*":o[f]*=+e.substr(1);break;case"/":o[f]/=+e.substr(1);break;default:o[f]=+e}else if(Gt(e)==="number")o[f]=e;else throw new Error("unsupported value for Color.set");var h=new Rt(o,s);return a?(this._rgb=h._rgb,this):h}throw new Error("unknown channel "+u+" in mode "+s)}else return o};var Al=S,Dl=function(r,e,a){var l=r._rgb,s=e._rgb;return new Al(l[0]+a*(s[0]-l[0]),l[1]+a*(s[1]-l[1]),l[2]+a*(s[2]-l[2]),"rgb")};K.rgb=Dl;var Ll=S,se=Math.sqrt,$r=Math.pow,Nl=function(r,e,a){var l=r._rgb,s=l[0],u=l[1],o=l[2],f=e._rgb,h=f[0],g=f[1],d=f[2];return new Ll(se($r(s,2)*(1-a)+$r(h,2)*a),se($r(u,2)*(1-a)+$r(g,2)*a),se($r(o,2)*(1-a)+$r(d,2)*a),"rgb")};K.lrgb=Nl;var zl=S,Il=function(r,e,a){var l=r.lab(),s=e.lab();return new zl(l[0]+a*(s[0]-l[0]),l[1]+a*(s[1]-l[1]),l[2]+a*(s[2]-l[2]),"lab")};K.lab=Il;var Vt=S,kr=function(r,e,a,l){var s,u,o,f;l==="hsl"?(o=r.hsl(),f=e.hsl()):l==="hsv"?(o=r.hsv(),f=e.hsv()):l==="hcg"?(o=r.hcg(),f=e.hcg()):l==="hsi"?(o=r.hsi(),f=e.hsi()):l==="lch"||l==="hcl"?(l="hcl",o=r.hcl(),f=e.hcl()):l==="oklch"&&(o=r.oklch().reverse(),f=e.oklch().reverse());var h,g,d,_,p,F;(l.substr(0,1)==="h"||l==="oklch")&&(s=o,h=s[0],d=s[1],p=s[2],u=f,g=u[0],_=u[1],F=u[2]);var k,A,N,I;return!isNaN(h)&&!isNaN(g)?(g>h&&g-h>180?I=g-(h+360):g<h&&h-g>180?I=g+360-h:I=g-h,A=h+a*I):isNaN(h)?isNaN(g)?A=Number.NaN:(A=g,(p==1||p==0)&&l!="hsv"&&(k=_)):(A=h,(F==1||F==0)&&l!="hsv"&&(k=d)),k===void 0&&(k=d+a*(_-d)),N=p+a*(F-p),l==="oklch"?new Vt([N,k,A],l):new Vt([A,k,N],l)},Pl=kr,qt=function(r,e,a){return Pl(r,e,a,"lch")};K.lch=qt,K.hcl=qt;var Tl=S,Bl=function(r,e,a){var l=r.num(),s=e.num();return new Tl(l+a*(s-l),"num")};K.num=Bl;var Ol=kr,Rl=function(r,e,a){return Ol(r,e,a,"hcg")};K.hcg=Rl;var Gl=kr,Vl=function(r,e,a){return Gl(r,e,a,"hsi")};K.hsi=Vl;var ql=kr,Hl=function(r,e,a){return ql(r,e,a,"hsl")};K.hsl=Hl;var Yl=kr,jl=function(r,e,a){return Yl(r,e,a,"hsv")};K.hsv=jl;var Wl=S,Ul=function(r,e,a){var l=r.oklab(),s=e.oklab();return new Wl(l[0]+a*(s[0]-l[0]),l[1]+a*(s[1]-l[1]),l[2]+a*(s[2]-l[2]),"oklab")};K.oklab=Ul;var Xl=kr,Zl=function(r,e,a){return Xl(r,e,a,"oklch")};K.oklch=Zl;var ue=S,Jl=w.clip_rgb,fe=Math.pow,ce=Math.sqrt,he=Math.PI,Ht=Math.cos,Yt=Math.sin,Ql=Math.atan2,Kl=function(r,e,a){e===void 0&&(e="lrgb"),a===void 0&&(a=null);var l=r.length;a||(a=Array.from(new Array(l)).map(function(){return 1}));var s=l/a.reduce(function(A,N){return A+N});if(a.forEach(function(A,N){a[N]*=s}),r=r.map(function(A){return new ue(A)}),e==="lrgb")return ro(r,a);for(var u=r.shift(),o=u.get(e),f=[],h=0,g=0,d=0;d<o.length;d++)if(o[d]=(o[d]||0)*a[0],f.push(isNaN(o[d])?0:a[0]),e.charAt(d)==="h"&&!isNaN(o[d])){var _=o[d]/180*he;h+=Ht(_)*a[0],g+=Yt(_)*a[0]}var p=u.alpha()*a[0];r.forEach(function(A,N){var I=A.get(e);p+=A.alpha()*a[N+1];for(var T=0;T<o.length;T++)if(!isNaN(I[T]))if(f[T]+=a[N+1],e.charAt(T)==="h"){var X=I[T]/180*he;h+=Ht(X)*a[N+1],g+=Yt(X)*a[N+1]}else o[T]+=I[T]*a[N+1]});for(var F=0;F<o.length;F++)if(e.charAt(F)==="h"){for(var k=Ql(g/f[F],h/f[F])/he*180;k<0;)k+=360;for(;k>=360;)k-=360;o[F]=k}else o[F]=o[F]/f[F];return p/=l,new ue(o,e).alpha(p>.99999?1:p,!0)},ro=function(r,e){for(var a=r.length,l=[0,0,0,0],s=0;s<r.length;s++){var u=r[s],o=e[s]/a,f=u._rgb;l[0]+=fe(f[0],2)*o,l[1]+=fe(f[1],2)*o,l[2]+=fe(f[2],2)*o,l[3]+=f[3]*o}return l[0]=ce(l[0]),l[1]=ce(l[1]),l[2]=ce(l[2]),l[3]>.9999999&&(l[3]=1),new ue(Jl(l))},rr=V,Fr=w.type,eo=Math.pow,ve=function(r){var e="rgb",a=rr("#ccc"),l=0,s=[0,1],u=[],o=[0,0],f=!1,h=[],g=!1,d=0,_=1,p=!1,F={},k=!0,A=1,N=function(b){if(b=b||["#fff","#000"],b&&Fr(b)==="string"&&rr.brewer&&rr.brewer[b.toLowerCase()]&&(b=rr.brewer[b.toLowerCase()]),Fr(b)==="array"){b.length===1&&(b=[b[0],b[0]]),b=b.slice(0);for(var C=0;C<b.length;C++)b[C]=rr(b[C]);u.length=0;for(var L=0;L<b.length;L++)u.push(L/(b.length-1))}return Q(),h=b},I=function(b){if(f!=null){for(var C=f.length-1,L=0;L<C&&b>=f[L];)L++;return L-1}return 0},T=function(b){return b},X=function(b){return b},W=function(b,C){var L,D;if(C==null&&(C=!1),isNaN(b)||b===null)return a;if(C)D=b;else if(f&&f.length>2){var Z=I(b);D=Z/(f.length-2)}else _!==d?D=(b-d)/(_-d):D=1;D=X(D),C||(D=T(D)),A!==1&&(D=eo(D,A)),D=o[0]+D*(1-o[0]-o[1]),D=Math.min(1,Math.max(0,D));var G=Math.floor(D*1e4);if(k&&F[G])L=F[G];else{if(Fr(h)==="array")for(var P=0;P<u.length;P++){var B=u[P];if(D<=B){L=h[P];break}if(D>=B&&P===u.length-1){L=h[P];break}if(D>B&&D<u[P+1]){D=(D-B)/(u[P+1]-B),L=rr.interpolate(h[P],h[P+1],D,e);break}}else Fr(h)==="function"&&(L=h(D));k&&(F[G]=L)}return L},Q=function(){return F={}};N(r);var z=function(b){var C=rr(W(b));return g&&C[g]?C[g]():C};return z.classes=function(b){if(b!=null){if(Fr(b)==="array")f=b,s=[b[0],b[b.length-1]];else{var C=rr.analyze(s);b===0?f=[C.min,C.max]:f=rr.limits(C,"e",b)}return z}return f},z.domain=function(b){if(!arguments.length)return s;d=b[0],_=b[b.length-1],u=[];var C=h.length;if(b.length===C&&d!==_)for(var L=0,D=Array.from(b);L<D.length;L+=1){var Z=D[L];u.push((Z-d)/(_-d))}else{for(var G=0;G<C;G++)u.push(G/(C-1));if(b.length>2){var P=b.map(function(O,R){return R/(b.length-1)}),B=b.map(function(O){return(O-d)/(_-d)});B.every(function(O,R){return P[R]===O})||(X=function(O){if(O<=0||O>=1)return O;for(var R=0;O>=B[R+1];)R++;var tr=(O-B[R])/(B[R+1]-B[R]),or=P[R]+tr*(P[R+1]-P[R]);return or})}}return s=[d,_],z},z.mode=function(b){return arguments.length?(e=b,Q(),z):e},z.range=function(b,C){return N(b),z},z.out=function(b){return g=b,z},z.spread=function(b){return arguments.length?(l=b,z):l},z.correctLightness=function(b){return b==null&&(b=!0),p=b,Q(),p?T=function(C){for(var L=W(0,!0).lab()[0],D=W(1,!0).lab()[0],Z=L>D,G=W(C,!0).lab()[0],P=L+(D-L)*C,B=G-P,O=0,R=1,tr=20;Math.abs(B)>.01&&tr-- >0;)(function(){return Z&&(B*=-1),B<0?(O=C,C+=(R-C)*.5):(R=C,C+=(O-C)*.5),G=W(C,!0).lab()[0],B=G-P})();return C}:T=function(C){return C},z},z.padding=function(b){return b!=null?(Fr(b)==="number"&&(b=[b,b]),o=b,z):o},z.colors=function(b,C){arguments.length<2&&(C="hex");var L=[];if(arguments.length===0)L=h.slice(0);else if(b===1)L=[z(.5)];else if(b>1){var D=s[0],Z=s[1]-D;L=to(0,b,!1).map(function(R){return z(D+R/(b-1)*Z)})}else{r=[];var G=[];if(f&&f.length>2)for(var P=1,B=f.length,O=1<=B;O?P<B:P>B;O?P++:P--)G.push((f[P-1]+f[P])*.5);else G=s;L=G.map(function(R){return z(R)})}return rr[C]&&(L=L.map(function(R){return R[C]()})),L},z.cache=function(b){return b!=null?(k=b,z):k},z.gamma=function(b){return b!=null?(A=b,z):A},z.nodata=function(b){return b!=null?(a=rr(b),z):a},z};function to(r,e,a){for(var l=[],s=r<e,u=a?s?e+1:e-1:e,o=r;s?o<u:o>u;s?o++:o--)l.push(o);return l}var Sr=S,ao=ve,no=function(r){for(var e=[1,1],a=1;a<r;a++){for(var l=[1],s=1;s<=e.length;s++)l[s]=(e[s]||0)+e[s-1];e=l}return e},io=function(r){var e,a,l,s,u,o,f;if(r=r.map(function(p){return new Sr(p)}),r.length===2)e=r.map(function(p){return p.lab()}),u=e[0],o=e[1],s=function(p){var F=[0,1,2].map(function(k){return u[k]+p*(o[k]-u[k])});return new Sr(F,"lab")};else if(r.length===3)a=r.map(function(p){return p.lab()}),u=a[0],o=a[1],f=a[2],s=function(p){var F=[0,1,2].map(function(k){return(1-p)*(1-p)*u[k]+2*(1-p)*p*o[k]+p*p*f[k]});return new Sr(F,"lab")};else if(r.length===4){var h;l=r.map(function(p){return p.lab()}),u=l[0],o=l[1],f=l[2],h=l[3],s=function(p){var F=[0,1,2].map(function(k){return(1-p)*(1-p)*(1-p)*u[k]+3*(1-p)*(1-p)*p*o[k]+3*(1-p)*p*p*f[k]+p*p*p*h[k]});return new Sr(F,"lab")}}else if(r.length>=5){var g,d,_;g=r.map(function(p){return p.lab()}),_=r.length-1,d=no(_),s=function(p){var F=1-p,k=[0,1,2].map(function(A){return g.reduce(function(N,I,T){return N+d[T]*Math.pow(F,_-T)*Math.pow(p,T)*I[A]},0)});return new Sr(k,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return s},lo=function(r){var e=io(r);return e.scale=function(){return ao(e)},e},ge=V,er=function(r,e,a){if(!er[a])throw new Error("unknown blend mode "+a);return er[a](r,e)},ir=function(r){return function(e,a){var l=ge(a).rgb(),s=ge(e).rgb();return ge.rgb(r(l,s))}},lr=function(r){return function(e,a){var l=[];return l[0]=r(e[0],a[0]),l[1]=r(e[1],a[1]),l[2]=r(e[2],a[2]),l}},oo=function(r){return r},so=function(r,e){return r*e/255},uo=function(r,e){return r>e?e:r},fo=function(r,e){return r>e?r:e},co=function(r,e){return 255*(1-(1-r/255)*(1-e/255))},ho=function(r,e){return e<128?2*r*e/255:255*(1-2*(1-r/255)*(1-e/255))},vo=function(r,e){return 255*(1-(1-e/255)/(r/255))},go=function(r,e){return r===255?255:(r=255*(e/255)/(1-r/255),r>255?255:r)};er.normal=ir(lr(oo)),er.multiply=ir(lr(so)),er.screen=ir(lr(co)),er.overlay=ir(lr(ho)),er.darken=ir(lr(uo)),er.lighten=ir(lr(fo)),er.dodge=ir(lr(go)),er.burn=ir(lr(vo));for(var po=er,de=w.type,bo=w.clip_rgb,mo=w.TWOPI,yo=Math.pow,wo=Math.sin,_o=Math.cos,jt=V,$o=function(r,e,a,l,s){r===void 0&&(r=300),e===void 0&&(e=-1.5),a===void 0&&(a=1),l===void 0&&(l=1),s===void 0&&(s=[0,1]);var u=0,o;de(s)==="array"?o=s[1]-s[0]:(o=0,s=[s,s]);var f=function(h){var g=mo*((r+120)/360+e*h),d=yo(s[0]+o*h,l),_=u!==0?a[0]+h*u:a,p=_*d*(1-d)/2,F=_o(g),k=wo(g),A=d+p*(-.14861*F+1.78277*k),N=d+p*(-.29227*F-.90649*k),I=d+p*(1.97294*F);return jt(bo([A*255,N*255,I*255,1]))};return f.start=function(h){return h==null?r:(r=h,f)},f.rotations=function(h){return h==null?e:(e=h,f)},f.gamma=function(h){return h==null?l:(l=h,f)},f.hue=function(h){return h==null?a:(a=h,de(a)==="array"?(u=a[1]-a[0],u===0&&(a=a[1])):u=0,f)},f.lightness=function(h){return h==null?s:(de(h)==="array"?(s=h,o=h[1]-h[0]):(s=[h,h],o=0),f)},f.scale=function(){return jt.scale(f)},f.hue(a),f},ko=S,Fo="0123456789abcdef",xo=Math.floor,Co=Math.random,Mo=function(){for(var r="#",e=0;e<6;e++)r+=Fo.charAt(xo(Co()*16));return new ko(r,"hex")},pe=E,Wt=Math.log,Eo=Math.pow,So=Math.floor,Ao=Math.abs,Ut=function(r,e){e===void 0&&(e=null);var a={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return pe(r)==="object"&&(r=Object.values(r)),r.forEach(function(l){e&&pe(l)==="object"&&(l=l[e]),l!=null&&!isNaN(l)&&(a.values.push(l),a.sum+=l,l<a.min&&(a.min=l),l>a.max&&(a.max=l),a.count+=1)}),a.domain=[a.min,a.max],a.limits=function(l,s){return Xt(a,l,s)},a},Xt=function(r,e,a){e===void 0&&(e="equal"),a===void 0&&(a=7),pe(r)=="array"&&(r=Ut(r));var l=r.min,s=r.max,u=r.values.sort(function(me,ye){return me-ye});if(a===1)return[l,s];var o=[];if(e.substr(0,1)==="c"&&(o.push(l),o.push(s)),e.substr(0,1)==="e"){o.push(l);for(var f=1;f<a;f++)o.push(l+f/a*(s-l));o.push(s)}else if(e.substr(0,1)==="l"){if(l<=0)throw new Error("Logarithmic scales are only possible for values > 0");var h=Math.LOG10E*Wt(l),g=Math.LOG10E*Wt(s);o.push(l);for(var d=1;d<a;d++)o.push(Eo(10,h+d/a*(g-h)));o.push(s)}else if(e.substr(0,1)==="q"){o.push(l);for(var _=1;_<a;_++){var p=(u.length-1)*_/a,F=So(p);if(F===p)o.push(u[F]);else{var k=p-F;o.push(u[F]*(1-k)+u[F+1]*k)}}o.push(s)}else if(e.substr(0,1)==="k"){var A,N=u.length,I=new Array(N),T=new Array(a),X=!0,W=0,Q=null;Q=[],Q.push(l);for(var z=1;z<a;z++)Q.push(l+z/a*(s-l));for(Q.push(s);X;){for(var b=0;b<a;b++)T[b]=0;for(var C=0;C<N;C++)for(var L=u[C],D=Number.MAX_VALUE,Z=void 0,G=0;G<a;G++){var P=Ao(Q[G]-L);P<D&&(D=P,Z=G),T[Z]++,I[C]=Z}for(var B=new Array(a),O=0;O<a;O++)B[O]=null;for(var R=0;R<N;R++)A=I[R],B[A]===null?B[A]=u[R]:B[A]+=u[R];for(var tr=0;tr<a;tr++)B[tr]*=1/T[tr];X=!1;for(var or=0;or<a;or++)if(B[or]!==Q[or]){X=!0;break}Q=B,W++,W>200&&(X=!1)}for(var sr={},xr=0;xr<a;xr++)sr[xr]=[];for(var Cr=0;Cr<N;Cr++)A=I[Cr],sr[A].push(u[Cr]);for(var nr=[],hr=0;hr<a;hr++)nr.push(sr[hr][0]),nr.push(sr[hr][sr[hr].length-1]);nr=nr.sort(function(me,ye){return me-ye}),o.push(nr[0]);for(var Ar=1;Ar<nr.length;Ar+=2){var vr=nr[Ar];!isNaN(vr)&&o.indexOf(vr)===-1&&o.push(vr)}}return o},Zt={analyze:Ut,limits:Xt},Jt=S,Do=function(r,e){r=new Jt(r),e=new Jt(e);var a=r.luminance(),l=e.luminance();return a>l?(a+.05)/(l+.05):(l+.05)/(a+.05)},Qt=S,ar=Math.sqrt,q=Math.pow,Lo=Math.min,No=Math.max,Kt=Math.atan2,ra=Math.abs,Rr=Math.cos,ea=Math.sin,zo=Math.exp,ta=Math.PI,Io=function(r,e,a,l,s){a===void 0&&(a=1),l===void 0&&(l=1),s===void 0&&(s=1);var u=function(vr){return 360*vr/(2*ta)},o=function(vr){return 2*ta*vr/360};r=new Qt(r),e=new Qt(e);var f=Array.from(r.lab()),h=f[0],g=f[1],d=f[2],_=Array.from(e.lab()),p=_[0],F=_[1],k=_[2],A=(h+p)/2,N=ar(q(g,2)+q(d,2)),I=ar(q(F,2)+q(k,2)),T=(N+I)/2,X=.5*(1-ar(q(T,7)/(q(T,7)+q(25,7)))),W=g*(1+X),Q=F*(1+X),z=ar(q(W,2)+q(d,2)),b=ar(q(Q,2)+q(k,2)),C=(z+b)/2,L=u(Kt(d,W)),D=u(Kt(k,Q)),Z=L>=0?L:L+360,G=D>=0?D:D+360,P=ra(Z-G)>180?(Z+G+360)/2:(Z+G)/2,B=1-.17*Rr(o(P-30))+.24*Rr(o(2*P))+.32*Rr(o(3*P+6))-.2*Rr(o(4*P-63)),O=G-Z;O=ra(O)<=180?O:G<=Z?O+360:O-360,O=2*ar(z*b)*ea(o(O)/2);var R=p-h,tr=b-z,or=1+.015*q(A-50,2)/ar(20+q(A-50,2)),sr=1+.045*C,xr=1+.015*C*B,Cr=30*zo(-q((P-275)/25,2)),nr=2*ar(q(C,7)/(q(C,7)+q(25,7))),hr=-nr*ea(2*o(Cr)),Ar=ar(q(R/(a*or),2)+q(tr/(l*sr),2)+q(O/(s*xr),2)+hr*(tr/(l*sr))*(O/(s*xr)));return No(0,Lo(100,Ar))},aa=S,Po=function(r,e,a){a===void 0&&(a="lab"),r=new aa(r),e=new aa(e);var l=r.get(a),s=e.get(a),u=0;for(var o in l){var f=(l[o]||0)-(s[o]||0);u+=f*f}return Math.sqrt(u)},To=S,Bo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];try{return new(Function.prototype.bind.apply(To,[null].concat(r))),!0}catch{return!1}},na=V,ia=ve,Oo={cool:function(){return ia([na.hsl(180,1,.9),na.hsl(250,.7,.4)])},hot:function(){return ia(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Gr={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},be=0,la=Object.keys(Gr);be<la.length;be+=1){var oa=la[be];Gr[oa.toLowerCase()]=Gr[oa]}var Ro=Gr,j=V;j.average=Kl,j.bezier=lo,j.blend=po,j.cubehelix=$o,j.mix=j.interpolate=Tt,j.random=Mo,j.scale=ve,j.analyze=Zt.analyze,j.contrast=Do,j.deltaE=Io,j.distance=Po,j.limits=Zt.limits,j.valid=Bo,j.scales=Oo,j.colors=yt,j.brewer=Ro;var Go=j;return Go})})(ha);var Uo=ha.exports;const hs=Wo(Uo);function Mr(t){let n=Math.trunc(t/128),i=t%128;return[n,i]}class Xo extends Event{constructor(n,i){super(n,{bubbles:!0,cancelable:!0}),Object.entries(i).forEach(([c,v])=>{c!="type"&&(this[c]=v)})}}class Zo{constructor(n={sysex:!1,manufacturerID:0,deviceID:0,modelID:0,deviceCheck:()=>!0,onMessage:()=>null,onStateChange:()=>null}){Dr(this,"messages",{128:"noteOff",144:"noteOn",160:"aftertouchPoly",176:"cc",192:"programChange",208:"aftertouchChannel",224:"pitchWheel",240:"sysex"});this.interface=null,this.in=null,this.out=null,this.connected=!1,this.options=n,this._onMidiMessage=this._onMidiMessage.bind(this),this._onStateChange=this._onStateChange.bind(this),Object.entries(this.messages).forEach(([i,c])=>{c!="sysex"&&(this[c]=async(v,m,y=0)=>{this.send(parseInt(i),v,m,y)})})}async connect(){this.interface=await navigator.requestMIDIAccess({sysex:this.options.sysex}),this.interface.addEventListener("statechange",this._onStateChange);let n=i=>{for(let c of i){let v=c[1];if(this.options.deviceCheck(v))return v}};if(this.in=n(this.interface.inputs),this.out=n(this.interface.outputs),!this.in||!this.out)throw Error("Tried to connect to the MIDI device but didn't find one matching the criteria");await this.in.open(),await this.out.open(),await this.in.addEventListener("midimessage",this._onMidiMessage)}_onStateChange(n){this.connected=n.port.state=="connected",this.options.onStateChange(n)}_onMidiMessage(n){let[i,...c]=n.data,v=i%16;i=i-v;let m=this.messages[i];m?m=="sysex"?this._handleSysexMessage(n.data):this.options.onMessage({type:m.toLowerCase(),channel:v,note:c[0],value:c[1]}):console.log("unknown message",data)}_handleSysexMessage(n){let[i,c,v,m,y,$,M,...E]=n;E.splice(E.length-1,1),this.options.onMessage({type:"sysex",messageTypeId:y,data:E})}async sendSysex(n,...i){i.length==1&&(i=i[0]);let c=Math.trunc(i.length/128),v=i.length%128,m=[240,this.options.manufacturerID,this.options.deviceID,this.options.modelID,n,c,v],y=[247],$=[...m,...i,...y];return this._sendData($)}send(n,i,c,v=0){return this._sendData([n+v,i,c])}async _sendData(n){if(this.connected&&this.out)try{this.out.send(n)}catch(i){console.error(i,n.map(c=>"0x"+c.toString(16)).join(", "))}}async disconnect(){this.connected=!1,this.interface&&(this.interface.removeEventListener("statechange",this._onStateChange),this.interface=null),this.in&&(this.in.removeEventListener("midimessage",this._onMidiMessage),this.in.close(),this.in=null),this.out&&(this.out.close(),this.out=null)}}const Jo=["#000000","#1E1E1E","#7F7F7F","#FFFFFF","#FF4C4C","#FF0000","#590000","#190000","#FFBD6C","#FF5400","#591D00","#271B00","#FFFF4C","#FFFF00","#595900","#191900","#88FF4C","#54FF00","#1D5900","#142B00","#4CFF4C","#00FF00","#005900","#001900","#4CFF5E","#00FF19","#00590D","#001902","#4CFF88","#00FF55","#00591D","#001F12","#4CFFB7","#00FF99","#005935","#001912","#4CC3FF","#00A9FF","#004152","#001019","#4C88FF","#0055FF","#001D59","#000819","#4C4CFF","#0000FF","#000059","#000019","#874CFF","#5400FF","#190064","#0F0030","#FF4CFF","#FF00FF","#590059","#190019","#FF4C87","#FF0054","#59001D","#220013","#FF1500","#993500","#795100","#436400","#033900","#005735","#00547F","#0000FF","#00454F","#2500CC","#7F7F7F","#202020","#FF0000","#BDFF2D","#AFED06","#64FF09","#108B00","#00FF87","#00A9FF","#002AFF","#3F00FF","#7A00FF","#B21A7D","#402100","#FF4A00","#88E106","#72FF15","#00FF00","#3BFF26","#59FF71","#38FFCC","#5B8AFF","#3151C6","#877FE9","#D31DFF","#FF005D","#FF7F00","#B9B000","#90FF00","#835D07","#392b00","#144C10","#0D5038","#15152A","#16205A","#693C1C","#A8000A","#DE513D","#D86A1C","#FFE126","#9EE12F","#67B50F","#1E1E30","#DCFF6B","#80FFBD","#9A99FF","#8E66FF","#404040","#757575","#E0FFFF","#A00000","#350000","#1AD000","#074200","#B9B000","#3F3100","#B35F00","#4B1502"];class va{constructor(n,i){[this.x,this.y]=[n,i],this.sprites=[]}addChild(...n){this.sprites.push(...n)}getPixels(){return[]}getAllPixels(){let n=Qo();n.pixels=this.getPixels();for(let i of this.sprites)i.getAllPixels().forEach(c=>{let[v,m]=[i.x+c.x,i.y+c.y];n(v,m).color=c.color});return n.pixels()}get bounds(){let n=this.getAllPixels();return{x:Math.max(...n.map(i=>i.x)),y:Math.max(...n.map(i=>i.y))}}}function Qo(t=[]){let n={},i=(v,m)=>`${v},${m}`,c=(v,m)=>{let y=i(v,m);return n[y]=n[y]||{x:v,y:m},n[y]};return Object.defineProperty(c,"pixels",{get:()=>Object.values(n),set:v=>{for(let m of v){let y=i(m.x,m.y);n[y]=m}}}),t.length&&(c.pixels=t),c}function vs(t,n,i,c,v){let m=[];for(let y=n;y<n+c;y++)for(let $=t;$<t+i;$++)m.push({x:$,y,color:v});return m}class Ko extends va{constructor({x:n=0,y:i=0,width:c=8,height:v=8,bg:m=0}){super(n,i),this.width=c,this.height=v,this.bg=m}getPixels(){return this.fillRect(0,0,this.width,this.height,this.bg)}getAllPixels(){let n=super.getAllPixels().map(i=>({x:Math.round(i.x),y:Math.round(i.y),color:i.color}));return n=n.filter(i=>i.x>=0&&i.x<this.width&&i.y>=0&&i.y<this.height),n}}class gs extends Ko{}let rs={A:"fkf",B:"vla",C:"vhh",D:"vhe",E:"vl",F:"vkg",G:"vhl7",H:"v4v",I:"v",J:"3hv",K:"v4r",L:"v1",M:"v848v",N:"vgf",O:"ehe",P:"vkks",Q:"uiju",R:"vkb",S:"tln",T:"gvg",U:"v1v",V:"u1u",W:"s343s",X:"r4r",Y:"o7o",Z:"jip",0:"ehe",1:"8v",2:"nt",3:"lv",4:"s4v",5:"tn",6:"vln",7:"gno",8:"vlv",9:"tlv","!":"t","?":"gl8","\\":"o43",'"':"o0o","#":"lvlvl","&":"","(":"eh",")":"he","[":"vh","]":"hv","-":"44","+":"4e4","*":"a4a",":":"a","'":"o"};class ds extends va{constructor(n,i,c,v="#ffffff"){super(n,i),[this.text,this.color]=[c,v],this.height=5,this._redraw()}_redraw(){let[n,i]=[0,0],c=[];for(let v of this.text.toUpperCase()){let m=rs[v]||[];for(let y of m){let $=parseInt(y,36).toString(2).padStart(5,"0");for(let M of $)M!="0"&&c.push({x:n,y:i,color:this.color}),i+=1;n+=1,i=0}n+=1}this._pixels=c}getPixels(){return this._pixels}}const fa=Jo;class es{constructor(){this.connected=!1,this.control=null,this._initDone=!1,this._sysexEnabled=!1,this._paintLoop=!1,this._paintCallback=null,this._pads=[],this._setControlValue=this._setControlValue.bind(this);for(let n=0;n<64;n++){let i=n%8,c=7-(n-i)/8;this._pads.push(new as(n,`pad${i}${c}`,i,c,this._setControlValue))}this.vertButtons=["clipStop","solo","mute","recArm","select","drum","note","stopAllClips"].map((n,i)=>new ke(112+i,n,9,i,this._setControlValue,ca(n))),this.horizButtons=["volume","pan","send","device","arrowUp","arrowDown","arrowLeft","arrowRight"].map((n,i)=>new ke(100+i,n,i,9,this._setControlValue,ca(n))),this.horizButtons.push(new ke(122,"shift",9,9,this._setControlValue,"shift")),this.faders=Object.fromEntries([0,1,2,3,4,5,6,7,8].map(n=>[48+n,new ts(48+n,`fader${n}`,this._setControlValue)])),this.buttons=Object.fromEntries([...this._pads,...this.horizButtons,...this.vertButtons].map(n=>[n.note,n])),this.allControls=[...Object.values(this.buttons),...Object.values(this.faders)],this.allControls.forEach(n=>{this[n.name]=n})}async connect(n={sysex:!1,reset:!0,paintLoop:!0,beforePaint:null}){["reset","paintLoop"].forEach(i=>{n[i]=n[i]===void 0?!0:n[i]}),this._sysexEnabled=n.sysex,this._paintLoop=n.paintLoop,this._paintCallback=n.beforePaint,this.control=new Zo({sysex:this._sysexEnabled,manufacturerID:71,deviceID:127,modelID:79,deviceCheck:i=>i.name.indexOf("APC mini mk2 Contr")!=-1,onMessage:i=>{var $;if(i.type=="sysex"){i.messageTypeId==97?i.data.forEach((M,E)=>{this[`fader${E}`]._val=M/127}):Fe(this,"sysex",i);return}let c=i.type=="cc"?this.faders[i.note]:this.buttons[i.note],v=c.key.replace("Button","");i.type!="cc"&&(c._pressed=i.type=="noteon");let m=Object.values(this.buttons).filter(M=>M.pressed),y={...i,mk2:this,button:c,key:v,shiftKey:this.shiftButton.pressed,pressedKeys:m};if(i.type=="cc"){let M=this[c.key]._val;this[c.key]._val=i.value/127,Fe(this,"cc",{...y,prevVal:M,delta:M-i.value,shiftKey:this.shiftButton.pressed})}else Fe(this,i.type,y);if(($=this.currentState)!=null&&$.handlers){let M=()=>{};if((this.currentState.handlers[i.type]||M)(y),i.type=="noteon"){let E=this.currentState.handlers[v];((typeof E=="function"?E:E==null?void 0:E.noteon)||E||M)(y)}}},onStateChange:i=>{this.connected=i.port.state=="connected"}}),await this.control.connect(),n.sysex&&this.control.sendSysex(96,[65,9,1,4]),n.reset&&this.reset(),this._paintLoop&&this.paintPads()}pads(n,i){if(n<0||n>7||i<0||i>7)throw new Error(`Coordinates out of bounds: (${n}, ${i})`);return this[`pad${n}${i}`]}get pixels(){return this._pads.map((n,i)=>{let c;return n.color&&(Vr(n.color)?c=n.color:Array.isArray(n.color)?c=fa[n.color[0]]:c=fa[n.color]||n.color),(c=="#000000"||c===null)&&(c="#333333"),{idx:i,x:n.x,y:n.y,color:c}})}paintPads(){if(!this._paintLoop)return;let n=[],i=null,c=null,v=null,m=1160,y=Date.now()%m/m;if(this._paintCallback&&this._paintCallback(this),this.currentState){for(let $ of this.currentState.render(this))$.idx!==void 0?this.buttons[$.idx].color=$.color:this.pads($.x,$.y).color=$.color;for(let $ of Object.values(this.buttons)){let M=(this.currentState.handlers||{})[$.key]||{};$.type=="toggle"&&(this[$.name].toggled=M.toggled!==void 0?M.toggled:!1)}}for(let $=0;$<64;$++){let M=this.buttons[$],E=M._val;Vr(E)||(E=null);let H=M._animate;if(Vr(E)&&H){let J=(Date.now()+H.delay)%m/m;if(H.speed!=1){let w=1/H.speed;J=y%w/w}H.mode=="pulse"?J=Math.abs(.1+Math.sin(J*Math.PI)*.9):H.mode=="blink"&&(J=J<.5?0:1);let[U,qr,ur]=Ce(E).map(w=>Math.round(w*J));E=ns(U,qr,ur)}E===i?v=$:i?(n.push([c,v,i]),M._changed||H?(i=E,c=$,v=$):i=null):(M._changed||H)&&(i=E,c=$,v=$),M._changed&&(M._changed=!1)}i&&n.push([c,v,i]),n.length&&this.fill(n,!1),this._paintLoop&&requestAnimationFrame(()=>this.paintPads())}select(n,i,c,v){let m=[];for(let y=i;y<=v;y++)for(let $=n;$<=c;$++)m.push(this[`pad${$}${y}`]);return m}reset(){Object.values(this.buttons).forEach(n=>{this._setControlValue(n,0)})}fill(n,i=!0){if(!this._sysexEnabled)throw Error("Setting RGB colors for pads works only when sysex is enabled. construct with `new APCMiniMK2({sysex: true})`");let c=32;for(let v=0;v<n.length;v+=c){let m=[];n.slice(v,v+c).forEach(([y,$,M])=>{let[E,H,J]=Ce(M);if(m.push(y,$,...Mr(E),...Mr(H),...Mr(J)),i)for(let U=y;U<=$;U++)this._checkHWBlink(this.buttons[U]),this.buttons[U].color=M}),this.control.sendSysex(36,...m)}}setState(n){this.currentState=n}async disconnect(){this._paintLoop=!1,this.reset(),this.control.disconnect(),this._listeners=[],this.connected=!1}_checkHWBlink(n){Array.isArray(n._val)&&n._val[1]>6&&this.control.noteOn(n.note,0)}_setControlValue(n,i){if(n.type=="toggle")this.control.noteOn(n.note,i?127:0);else if(n.type=="rgb"&&Vr(i))if(this._checkHWBlink(n),this._paintLoop)n._changed=!0;else{let[c,v,m]=Ce(i);this.control.sendSysex(36,n.note,n.note,...Mr(c),...Mr(v),...Mr(m))}else{let[c,v]=[i,i?6:0];Array.isArray(i)&&([c,v]=i),this.control.noteOn(n.note,c,v)}}}class Me{constructor(n,i,c,v,m){this.note=n,this.key=i,this.name=i,this.x=c,this.y=v,this._val=null,this._onSetVal=m}_setVal(n){n!=this._val&&(this._val=n,this._onSetVal(this,n))}}class ts extends Me{constructor(){super(...arguments);Dr(this,"type","fader")}get value(){return this._val}}class ke extends Me{constructor(i,c,v,m,y,$){super(i,c,v,m,y);Dr(this,"type","toggle");this._changed=!1,this._pressed=!1,this._animate=null,this.label=$,this.name=`${c}Button`}get pressed(){return this._pressed}set toggled(i){this._setVal(i)}get toggled(){return this._val}blink(i=1,c,v=0){this._animate={mode:"blink",speed:i,pattern:c,delay:v}}}class as extends Me{constructor(i,c,v,m,y){super(i,c,v,m,y);Dr(this,"type","rgb");this._changed=!1,this._pressed=!1,this._animate=null}set color(i){this._setVal(i)}get color(){return this._val}pulse(i=1,c,v=0){this._animate={mode:"pulse",speed:i,pattern:c,delay:v}}blink(i=1,c,v=0){this._animate={mode:"blink",speed:i,pattern:c,delay:v}}}function Fe(t,n,i){let c=new Xo(n,{...i,controller:t});document.activeElement.dispatchEvent(c)}function ca(t){return t.replace(/[A-Z]/g,n=>` ${n.toLowerCase()}`)}function Vr(t){return typeof t=="string"&&t.length==7}function ns(...t){return"#"+t.map(n=>n.toString(16).padStart(2,"0")).join("")}let xe=(t,n)=>parseInt(t.slice(n,n+2),16);function Ce(t){return[xe(t,1),xe(t,3),xe(t,5)]}let x={noop:()=>{},serverUrl(t){let n=document.location.port!="8085",i=t.startsWith("/api/")?"":"/api";return(n?`${document.location.origin}${i}`:`http://${document.location.hostname}:8080${i}`)+t},slug:t=>(t||"").replace(/[^\w-]+/g,"-"),streamstick:()=>navigator.userAgent.includes("TV Bro"),focusables:(t,n=!0)=>{function*i(c){for(let v of c.children){let m=window.getComputedStyle(v);if(m.display!="none"&&m.visibility!="hidden"&&!v.disabled){if(v.matches("button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])")&&v.tabIndex!="-1"&&!v.disabled)yield v;else if(n)for(let y of i(v))yield y}}}return[...i(t)]},mousify(t){return"TouchEvent"in window&&t instanceof TouchEvent?t.touches[0]:t},exportCSV(t,n,i){let c={showColumnHeaders:!0,filename:`confirmed-${n}-${dt.datetime.now().strftime("%Y-%m-%d %H-%M-%S")}`,useBom:!0};if(!i){let y=new Set;t.forEach($=>{y=new Set([...y,...Object.keys($)])}),i=[...y]}c.columnHeaders=i.map(y=>({key:y,displayLabel:x.capitalize(y)}));let v=ExportToCSV.mkConfig(c),m=ExportToCSV.generateCsv(v)(t);ExportToCSV.download(v)(m)},randomID(t){let n=["0","1","o","i","l"];if(t){let i;for(;!i||t.includes(i)||n.some(c=>i.includes(c));)i=new Number(Math.floor(Math.random()*parseInt("zzzz",36))).toString(36);return i}else return new Number(Math.floor(Math.random()*parseInt("zzzzzzzzzzz",36))).toString(36)},selectRandom(t){return t[Math.floor(Math.random()*t.length)]},scrollIn:(t,n=0)=>{let i=t.getBoundingClientRect(),c=U=>U===null?null:U!=t&&(U.scrollHeight>U.clientHeight||U.scrollWidth>U.clientWidth)?U:c(U.parentNode),v=c(t);if(!v)return;let m=v.getBoundingClientRect(),y=i.top-m.top,$=(m.height-i.height)*(n||0),M=v.scrollTop;y-$<0?M=v.scrollTop+y-$:y+i.height+$>m.height&&(M=v.scrollTop+y+i.height-m.height+$);let E=i.left-m.left,H=i.width*(n||0),J=v.scrollLeft;E<0?J=v.scrollLeft+E-H:E+i.width>m.width&&(J=v.scrollLeft+E+i.width-m.width+H),v.scrollTo(J,M)},animationFrame:t=>{let n=null;return()=>{window.cancelAnimationFrame(n),n=window.requestAnimationFrame(t)}},isNumber:t=>/^-?\d+\.?\d*$/.exec(t)!=null,round(t,n){let i=Math.pow(10,n||0);return Math.round(t*i)/i},toggleList(t,n){return t.includes(n)?t.filter(i=>i!=n):[...t,n]},routeChange(t){var n;return t.$.type.name!=((n=t.$route.matched[0])==null?void 0:n.components.default.name)},sum(t,n){return n=n||(i=>i),t&&t.length?t.map(i=>n(i)).reduce((i,c)=>i+c):0},sort(t,n,i=!0){return t=[...t||[]],i=i?1:-1,t.sort((c,v)=>{let m=n?n(c):c,y=n?n(v):v;m=(m==null?void 0:m.constructor.name)=="Array"?m:[m],y=(y==null?void 0:y.constructor.name)=="Array"?y:[y];for(let $=0;$<m.length;$++){if(m[$]<y[$])return-i;if(m[$]>y[$])return i}return 0}),t},getDotField(t,n){let i=n.split("."),c=i.splice(-1,1)[0];return{container:i.reduce((m,y)=>m[y],t),containerPath:i.join("."),leaf:c}},applyDotChanges(t,n){Object.entries(n).forEach(([i,c])=>{let v="update";if(i=="$delete"){if(v="delete",i=c,Array.isArray(i)){i.forEach($=>{this.applyDotChanges(t,{$delete:$})});return}}else i=="$push"?(v="push",i=c.path):i=="$pop"&&(v="pop",i=c.path);let{container:m,leaf:y}=this.getDotField(t,i);if(v=="delete")delete m[y];else if(v=="push"){let $=c.position!=null?c.position:m[y].length;m[y].splice($,0,c.value)}else if(v=="pop")m[y].splice(c.position,1);else try{m[y]=c}catch($){console.warn(`Trying to set value for '${i}' but we don't have an object there`),console.warn($)}})},logChanges(t,n){console.groupCollapsed(`%c${n} (${JSON.stringify(t).length} bytes)`,"color: 333; font-weight: normal; background: #eee; display: inline-block; padding: 3px 5px;"),Object.entries(t).forEach(([i,c])=>{console.log(i,c)}),console.groupEnd()},setPageTitle(t){document.title=t?`${t} - Showtime`:"Showtime"},getCSSVar(t){return(getComputedStyle(document.querySelector("body")).getPropertyValue(`--${t}`)||"").trim()},emailOk(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},urlOk(t){try{return new URL(t),!0}catch{return!1}},range(t,n,i){n===void 0&&([t,n,i]=[0,t,1]),i=Math.abs(i)||1,n<t&&(i=i*-1);function*c(){for(let v=t;t<n?v<n:v>n;v+=i)yield v}return[...c()]},shuffle(t){t=t||[];let n=t.length,i,c;for(;n;)c=Math.floor(Math.random()*n--),i=t[n],t[n]=t[c],t[c]=i;return t},random(t,n){if(Array.isArray(t)||typeof t=="string"){n=Math.min(Math.max(n||1,0),t.length);let i=x.shuffle(t);return n>1?i.slice(0,n):i[0]}else return n?t+Math.round(Math.random()*(n-t)):Math.round(Math.random()*t)},parseTS(t,n){if(typeof t!="string")return t;let i=["%Y-%m-%d %H:%M:%S.%f","%Y-%m-%d %H:%M:%S","%Y-%m-%d %H:%M","%Y-%m-%d"];for(let c=0;c<i.length;c++)try{return dt.datetime.strptime(t,i[c],n)}catch{}return t},parseDuration(t){try{let[n,i]=t.split(":");return n=parseInt(n)||0,i=parseInt(i)||0,n*60+i}catch{}return 0},formatTS(t,n){return t=x.parseTS(t),t.strftime(n)},capitalize:t=>t?`${t[0].toUpperCase()}${t.slice(1,t.length)}`:"",zeroPad:t=>new String(parseInt(t)).padStart(2,"0"),formatDuration(t){let n=t<0;return t=Math.abs(t),`${n?"-":""}${this.zeroPad(t/60)}:${this.zeroPad(t%60)}`},humanDuration(t){let n=t<0;return t=Math.abs(t),`${n?"-":""}${x.pluralize(Math.floor(t/60),"min","mins")}${t%60?` ${x.pluralize(t%60,"sec","secs")}`:""}`},addMonths(t,n){let i={hour:t.hour,minute:t.minute};return t=dt.datetime.combine(t,dt.time()),x.range(n).forEach(()=>{n>0?t=dt.datetime(t+dt.timedelta(32)):n<0&&(t=dt.datetime(t-dt.timedelta(1))),t=t.replace({day:1,hour:i.hour,minute:i.minute})}),t},pluralize(t,n,i){return t=Array.isArray(t)?t.length:t,`${t} ${t==1?n:i}`},pluralizeNoun(t,n,i){return t=Array.isArray(t)?t.length:t,t==1?n:i},sanitize(t){return t=JSON.parse(JSON.stringify(t)),t==null||typeof t=="number"?t:Array.isArray(t)?(t.forEach((n,i)=>{t[i]=this.sanitize(n)}),t):typeof t=="string"?t.trim():(Object.entries(t).forEach(([n,i])=>{t[n]=this.sanitize(i)}),t)},humanDate(t){return dt.datetime.now().year!=t.year?t.strftime("%b %d, %Y"):t.strftime("%b %d")},humanTs(t,n){let i=dt.datetime.now();return n=n||"%H:%M",t=x.parseTS(t),i.year!=t.year?t.strftime(`%b %d, %Y ${n}`):t.strftime(`%b %d, ${n}`)},timeSinceUTC(t){t=x.parseTS(t,!0);let n=dt.datetime(dt.datetime.utcnow()),i=dt.timedelta(n-t).totalSeconds()/60;if(i<1)return"just now";if(i<120)return`${x.pluralize(Math.ceil(i),"minute","minutes")} ago`;if(i<60*36){let c=x.round(i/60,1);return`${x.pluralize(c,"hour","hours")} ago`}else{let c=x.round(i/60/24,1);return`${x.pluralize(c,"day","days")} ago`}},gstore(t){return t=t.replace(/^\//,""),`https://storage.googleapis.com/show-assets/${t}`},spotKey(t){return["category","role","spot_length","fee"].map(n=>(t[n]||"").toString().trim().toLowerCase()).join("-")},isEmpty(t){return!t||Object.keys(t).length==0},toMoney(t,n){if(n=n||"",x.isNumber(t))t=parseFloat(t);else return t;return t?n.length<=1?`${n}${x.humanNumber(t)}`:`${n} ${x.humanNumber(t)}`:"-"},parseMoney(t){let i=/(?<currency>.*?)(?<money>[\d.,]+)(?<currency2>.*)/g.exec(t);if(i!=null&&i.groups){let c=parseFloat(i.groups.money.replace(/,/g,".")),v=(i.groups.currency||"").trim()+(i.groups.currency2||"").trim();if(v.length<=3&&!v.includes("%"))return{value:c,currency:v}}return{value:null,currency:null}},humanNumber(t){return typeof t=="string"&&(t=parseFloat(t.replace(/,/,""))||0),t.toLocaleString()},toPercentStr(t,n,i){if(t=t||0,n=n??1,t==1/0||t==NaN)return"-";if(t>2)return`${Number(t).toFixed(1)}x`;{let c=Number(t*100);return i&&(c=Math.abs(c-100)),c.toFixed(n)+"%"}},listify(t){return Array.isArray(t)?t:[t]},stripThe(t){return t=(t||"").trim(),t.toLowerCase().startsWith("the ")?t.slice(4):t},singleSpace(t){return t.replace(/\s+/g," ").trim()},spotLengths:[0,2,3,4,5,6,7,8,9,10,11,12,15,18,20,25,30,35,40,45,50,55,60].map(t=>({label:t==0?"Full Show":`${t} mins`,value:t})),getLabel:(t,n)=>(n?labels[n][t]:labels[t])||t,replaceAll:(t,n,i)=>t.replace(new RegExp(n,"g"),i),setDefault(t,n,i){return t[n]=t[n]||i,t[n]},filters:{capitalize:t=>x.capitalize(t),round:(t,n)=>x.round(t,n),imgUrl:(t,n)=>x.imgUrl(t,n),formatVariantID:(t,n)=>x.formatVariantID(t,n),getLabel:(t,n,i)=>x.getLabel(t,n,i),range:(t,n,i)=>x.range(t,n,i),parseDate:t=>x.parseTS(t),formatTS:(t,n)=>x.formatTS(t,n),personalizeScore:(t,n)=>x.personalizeScore(t,n),humanNumber:t=>x.humanNumber(t),toPercentStr:(t,n,i)=>x.toPercentStr(t,n,i),humanDate:t=>x.humanDate(t),humanTs:(t,n)=>x.humanTs(t,n),emailOk:t=>x.emailOk(t),urlOk:t=>x.urlOk(t),addMonths:(t,n)=>x.addMonths(t,n),toggleList:(t,n)=>x.toggleList(t,n),pluralize:(t,n,i)=>x.pluralize(t,n,i),pluralizeNoun:(t,n,i)=>x.pluralizeNoun(t,n,i),sort:(t,n)=>x.sort(t,n),gstore:t=>x.gstore(t),slotDescriptor:(t,n)=>x.slotDescriptor(t,n),formatDuration:t=>x.formatDuration(t),humanDuration:t=>x.humanDuration(t),isEmpty:t=>x.isEmpty(t),toMoney:(t,n)=>x.toMoney(t,n),timeSinceUTC:t=>x.timeSinceUTC(t),stripThe:t=>x.stripThe(t),getLabel:(t,n)=>x.getLabel(t,n),zeroPad:t=>x.zeroPad(t)},addEventListener(t,n,i){t.addEventListener?t.addEventListener(n,i):t.addListener&&t.addListener(i)},removeEventListener(t,n,i){t.removeEventListener?t.removeEventListener(n,i):t.removeListener&&t.removeListener(i)},importToComp(t){return Object.fromEntries(Object.entries(t).map(([n,i])=>[n.split("/").slice(-1)[0].split(".")[0],i.default||i]))},parseDateRange(t){let n=dt.datetime.combine(dt.datetime.now().date(),dt.time()),i=/(?<month>(?:jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec))?\s*(?<rangeMarker>[,-])?\s*(?<day>\d{1,2})?\s*/gi,c,v,m,y=[];return[...t.matchAll(i)].map(M=>M.groups).forEach(M=>{if(M.month&&(v=null,c=dt.datetime.strptime(`${M.month}-${n.year}`,"%b-%Y"),c.month<n.month&&(c=dt.datetime(c+dt.timedelta({days:365})))),M.rangeMarker&&(m=M.rangeMarker),M.day&&c){let E=parseInt(M.day);if(E>=1&&E<=31){if(!v||m!="-"&&E>v)y.push(dt.datetime(c.year,c.month,parseInt(M.day)));else if(v&&m=="-"){let H=parseInt(M.day);H>v&&x.range(v+1,H+1).forEach(J=>{y.push(dt.datetime(c.year,c.month,J))})}v=parseInt(M.day)}m=null}}),y},async inlineIcon(t,n){var E;this._knownIcons=this._knownIcons||{};let i=`${t}-${n}`;if(this._knownIcons[i])return;this._knownIcons[i]=!0;let c=`/material-icons/${t}/${n?"baseline":"outline"}.svg`,m=await(await fetch(c)).text();if(!m)return;let $=(E=/<svg[^>]*>(?<contents>(.)*)<\/svg>/.exec(m))==null?void 0:E.groups.contents,M=document.createElementNS("http://www.w3.org/2000/svg","symbol");M.setAttribute("id",`icon-${t}${n?"-filled":""}`),M.setAttribute("viewBox","0 0 24 24"),M.innerHTML=$,this._iconContainer||(this._iconContainer=document.createElement("svg"),this._iconContainer.style.display="none",document.body.append(this._iconContainer)),this._iconContainer.appendChild(M)},async sleep(t){return new Promise(n=>{setTimeout(n,t*1e3)})},isTouch(){return"ontouchstart"in window},slotDescriptor(t,n){let i=parseInt(t.spot_length||""),c;return t.role&&t.role.includes(i)?c=t.role:t.category!="act"&&!t.spot_length?c=t.role||x.capitalize(t.category):t.role&&t.role.toLowerCase().trim()!="act"?c=`${t.role}${i?` (${i})`:""}`:c=`${x.capitalize(t.category)} ${i?`(${i})`:"(full show)"}`,n!==void 0&&t.fee&&(c=`${c}, fee: ${x.toMoney(t.fee,n)}`),c},sortSlots(t){let n={host:1,act:2,break:2,production:3,other:4};return t=Array.isArray(t)?t:Object.values(t),x.sort(t,i=>[n[i.category]||99,i.order])},adjustedDate(t){let n=dt.datetime.combine(t,dt.time(5));return t.hour<5&&(n=dt.datetime(n-dt.timedelta({days:1}))),n},prefixChanges(t,n){let i={};return n?Object.entries(t).forEach(([c,v])=>{c=="$delete"?i[c]=`${n}.${v}`:c=="$push"?i[c]={...v,path:`${n}.${v.path}`}:c=="$pop"?i[c]={...v,path:`${n}.${v.path}`}:i[`${n}.${c}`]=v}):i=t,i}};const is={name:"APC",props:{pixels:Array},data(){return{mk2:new es,colorgrid:x.range(64).map(t=>{let n=t%8,i=Math.trunc(t/8);return{idx:t,x:n,y:i,color:"#444444",colorIdx:0}}),colors:{}}},computed:{colorStyles:t=>Object.fromEntries(t.pixels.map(n=>[`--${n.idx}`,n.color])),pads(){return x.range(64).map(t=>{let n=t%8,i=Math.trunc(t/8);return this.mk2[`pad${n}${i}`]})}}},ls={class:"pads"},os={class:"buttons vert"},ss={class:"buttons horiz"};function us(t,n,i,c,v,m){return gr(),dr("div",{class:"apc",style:sa(m.colorStyles)},[pr("div",ls,[(gr(!0),dr(we,null,_e(m.pads,y=>(gr(),dr("button",{style:sa({background:`var(--${y.note})`}),key:y.note},null,4))),128))]),pr("div",os,[(gr(!0),dr(we,null,_e(v.mk2.vertButtons,y=>(gr(),dr("div",{class:"button-box",key:y.note},[pr("button",{class:$e({toggled:v.colors[y.note]})},null,2),pr("label",null,ua(y.label),1)]))),128))]),pr("div",ss,[(gr(!0),dr(we,null,_e(v.mk2.horizButtons,y=>(gr(),dr("div",{class:$e(["button-box",y.key]),key:y.note},[pr("button",{class:$e({toggled:v.colors[y.note]})},null,2),pr("label",null,ua(y.label),1)],2))),128))]),Yo("",!0)],4)}const ps=Ho(is,[["render",us]]);export{ps as A,Qo as B,fa as C,Ko as S,ds as T,gs as V,va as a,es as b,hs as c,vs as f,x as u};
